graph TD
    subgraph "External"
        CLIENT[Client]
    end

    subgraph "Load Balancer"
        NGINX[Nginx Proxy]
    end

    subgraph "Microservices"
        NODE[Node.js API]
        PYTHON[Python API]
    end

    subgraph "Data Storage"
        MONGO[MongoDB]
        REDIS[Redis Cache]
    end

    subgraph "Monitoring"
        PROMETHEUS[Prometheus]
        GRAFANA[Grafana]
    end

    subgraph "CI/CD Pipeline"
        GH_ACTIONS[GitHub Actions]
        DOCKER_REGISTRY[Docker Registry]
    end

    CLIENT --> NGINX
    NGINX --> NODE
    NGINX --> PYTHON
    NODE --> PYTHON
    NODE --> MONGO
    NODE --> REDIS
    PYTHON --> MONGO
    PYTHON --> REDIS
    
    PROMETHEUS --> NODE
    PROMETHEUS --> PYTHON
    PROMETHEUS --> NGINX
    GRAFANA --> PROMETHEUS
    
    GH_ACTIONS --> DOCKER_REGISTRY
    DOCKER_REGISTRY --> NODE
    DOCKER_REGISTRY --> PYTHON
    DOCKER_REGISTRY --> NGINX

    classDef primary fill:#4285F4,stroke:#333,stroke-width:2px,color:white;
    classDef secondary fill:#34A853,stroke:#333,stroke-width:2px,color:white;
    classDef storage fill:#FBBC05,stroke:#333,stroke-width:2px,color:white;
    classDef monitoring fill:#EA4335,stroke:#333,stroke-width:2px,color:white;
    classDef cicd fill:#673AB7,stroke:#333,stroke-width:2px,color:white;
    classDef client fill:#FF9800,stroke:#333,stroke-width:2px,color:white;

    class CLIENT client;
    class NGINX primary;
    class NODE,PYTHON secondary;
    class MONGO,REDIS storage;
    class PROMETHEUS,GRAFANA monitoring;
    class GH_ACTIONS,DOCKER_REGISTRY cicd;
